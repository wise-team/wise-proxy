include /conf/root.conf;

http {
    include /conf/http.conf;

    # Block requests without hostname
    server {
        server_name "";

        include /conf/staging.conf;
        include /conf/server.conf;
        include /conf/certs.staging.conf;

        return      444;
    }

    # Block requests not matching to any server
    server {
        server_name _;

        include /conf/staging.conf;
        include /conf/server.conf;
        include /conf/certs.staging.conf;

        return      444;
    }

    server {
        #ยง 'server_name ' + data.config.environments.staging.host + ';'
        server_name dev.wise.jblew.pl;

        include /conf/staging.conf;
        include /conf/server.conf;
        include /conf/certs.staging.conf;

        location / {
            include /sites/hub.conf;
        }

        #location /voting-page {
        #    include /sites/voting-page.conf;
        #}

        location /documentation {
            include /sites/manual.conf;
        }
    }

    #server {
        #    ยง 'server_name ' + url(data.config.sql.url.staging).hostname + ';'
    #    server_name sql.dev.wise.jblew.pl;

    #    include /conf/staging.conf;
    #    include /conf/server.conf;
    #    include /conf/certs.staging.conf;
    #    include /sites/sql.conf;
    #}

    #server {
        #    ยง 'server_name ' + url(data.config.hub.url.staging).hostname + ';'
    #    server_name hub.dev.wise.jblew.pl;

    #    include /conf/staging.conf;
    #    include /conf/server.conf;
    #    include /conf/certs.staging.conf;
    #    include /sites/hub.conf;
    #}
}
